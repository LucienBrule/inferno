# Cabling policy configuration for inferno network
# Defines media rules, bins, thresholds, and heuristics for cable selection

defaults:
  nodes_25g_per_node: 2
  mgmt_rj45_per_node: 1
  tor_uplink_qsfp28_per_tor: 4
  spares_fraction: 0.1

site_defaults:
  num_racks: 10
  nodes_per_rack: 20
  uplinks_per_rack: 4
  mgmt_rj45_per_node: 1
  wan_cat6a: 2

media_rules:
  sfp28_25g:
    dac_max_m: 3
    bins_m: [1, 3, 5, 10, 30]
    labels:
      dac: "SFP28 25G DAC"
      aoc: "SFP28 25G AOC"
      fiber: "SFP28 25G MMF + SR"
  qsfp28_100g:
    dac_max_m: 3
    bins_m: [1, 3, 5, 10, 30]
    labels:
      dac: "QSFP28 100G DAC"
      aoc: "QSFP28 100G AOC"
      fiber: "QSFP28 100G MMF + SR4"
  rj45_cat6a:
    bins_m: [1, 3, 5, 10, 30, 100]
    label: "RJ45 Cat6A"

redundancy:
  node_dual_homing: false
  tor_uplinks_min: 2

oversubscription:
  max_leaf_to_spine_ratio: 4.0
  warn_margin_fraction: 0.25

line_rates:
  SFP28: 25
  SFP+: 10
  QSFP28: 100
  RJ45_MGMT: 1

heuristics:
  same_rack_leaf_to_node_m: 2.0
  adjacent_rack_leaf_to_spine_m: 10.0
  non_adjacent_rack_leaf_to_spine_m: 30.0
  slack_factor: 1.2
  tile_m: 1.0